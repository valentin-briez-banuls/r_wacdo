<h1>Liste des restaurants</h1>
<%= link_to 'Nouveau restaurant', new_restaurant_path, class: "btn btn-primary mb-3" %>

<%= search_form_for @q, url: restaurants_path, method: :get, local: true do |f| %>
  <div class="row g-3 mb-3">
    <div class="col-md-3">
      <%= f.label :name_cont, "Nom du restaurant contient", class: "form-label" %>
      <%= f.search_field :name_cont, class: "form-control" %>
    </div>

    <div class="col-md-3">
      <%= f.label :city_cont, "Ville contient", class: "form-label" %>
      <%= f.search_field :city_cont, class: "form-control" %>
    </div>

    <div class="col-md-3">
      <%= f.label :address_cont, "Adresse contient", class: "form-label" %>
      <%= f.search_field :address_cont, class: "form-control" %>
    </div>

    <div class="col-md-3">
      <%= f.label :postal_code_cont, "Code postal contient", class: "form-label" %>
      <%= f.search_field :postal_code_cont, class: "form-control" %>
    </div>
  </div>

  <div>
    <%= f.submit "Rechercher", class: "btn btn-outline-primary" %>
    <%= link_to "Réinitialiser", restaurants_path, class: "btn btn-outline-secondary ms-2" %>
  </div>
<% end %>
<br>
<table class="table table-striped table-bordered table-hover">
  <thead class="table-dark">
  <tr>
    <th>Nom</th>
    <th>Adresse</th>
    <th>Code postal</th>
    <th>Ville</th>
    <th>Actions</th>
  </tr>
  </thead>

  <tbody>
  <% @restaurants.each do |restaurant| %>
    <tr>
      <td><%= restaurant.name %></td>
      <td><%= restaurant.address %></td>
      <td><%= restaurant.postal_code %></td>
      <td><%= restaurant.city %></td>
      <td>
        <%= link_to "Voir", restaurant_path(restaurant), class: "btn btn-sm btn-info me-1" %>
        <%= link_to "Modifier", edit_restaurant_path(restaurant), class: "btn btn-sm btn-warning me-1" %>
        <%= button_to 'Supprimer', restaurant_path(restaurant),
                      method: :delete,
                      data: { confirm: "Êtes-vous sûr ?" },
                      form_class: "d-inline",
                      class: "btn btn-sm btn-danger" %>



      </td>
    </tr>
  <% end %>
  </tbody>
</table>
